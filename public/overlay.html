<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>YT Chat Overlay</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      html, body { margin:0; padding:0; height:100%; background:transparent; }
      * { font-family: "Noto Sans","Apple Color Emoji","Noto Sans Emoji","Noto Color Emoji",Tahoma,Geneva,Verdana,sans-serif !important; }

      :root{
        --line-gap:10px;
        --font-size:42px;
        --shadow:0 3px 0 rgba(0,0,0,.45), 0 10px 24px rgba(0,0,0,.28);
        --enter-ms:40ms;          /* new line micro fade/slide */
        --push-ms:140ms;          /* j-chat push-up */
        --emoji-scale:1.4;        /* <-- adjust (1.3–1.6). Fixes native emoji size */
        --max-keep:400;
      }

      .stack{
        position:absolute; inset:0;
        display:flex; flex-direction:column; justify-content:flex-end;
        padding:18px; gap:var(--line-gap);
        overflow:hidden;
        will-change: transform;
        transition: transform var(--push-ms) ease-out;
      }

      .line{
        display:block;
        font-size:var(--font-size);
        line-height:1.12;
        font-weight:900;
        letter-spacing:.2px;
        color:#fff !important;
        text-shadow:var(--shadow);
        white-space:normal; word-break:break-word;

        opacity:0; transform:translateY(8px);
        transition: transform var(--enter-ms) ease-out, opacity var(--enter-ms) ease-out;
      }
      .line.enter{ transform:translateY(0); opacity:1; }

      .author{ font-weight:900; margin-right:.25em; }
      .message{ font-weight:900; color:#fff !important; }

      /* YouTube emoji <img> */
      .emoji{ height:1em; vertical-align:-0.15em; display:inline-block; }

      /* Native (Unicode) emoji wrapped by JS → match text height visually */
      .emoji-char{
        display:inline-block;
        font-size: calc(1em * var(--emoji-scale)); /* FIX: scale by font-size instead of transform */
        line-height: 1em;
        vertical-align: -0.18em;                  /* baseline tweak to match image emojis */
        font-weight: 400;                          /* avoid bold inflation artifacts */
        font-family: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji";
        /* let layout width expand naturally with the larger font size */
      }
    </style>
  </head>
  <body>
    <div id="stack" class="stack"></div>
    <script src="/overlay.js"></script>
  </body>
</html>
