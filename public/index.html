<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>YouTube Live Chat Overlay (by Channel ID)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        color-scheme: dark;
        --bg1: #ff4db7;
        --bg2: #7a5af8;
        --bg3: #4d96ff;
        --glass: rgba(255, 255, 255, 0.1);
        --glass-border: rgba(255, 255, 255, 0.22);
        --glass-highlight: rgba(255, 255, 255, 0.35);
        --txt: #ffffff;
        --muted: #e7e7e7cc;
        --radius: 26px;
        --blur: 22px;
        --shadow:
          0 10px 30px rgba(0, 0, 0, 0.35),
          inset 0 1px 0 rgba(255, 255, 255, 0.1);
        --ring-tight: 0 0 0 2px rgba(255, 255, 255, 0.25);
      }

      html,
      body {
        height: 100%;
        margin: 0;
        font-family:
          "SF Pro Display",
          "Segoe UI",
          system-ui,
          -apple-system,
          Arial,
          sans-serif;
        color: var(--txt);
        background:
          radial-gradient(
            1200px 600px at -10% -10%,
            rgba(255, 255, 255, 0.1),
            transparent 40%
          ),
          radial-gradient(
            900px 500px at 110% -10%,
            rgba(255, 255, 255, 0.08),
            transparent 45%
          ),
          radial-gradient(
            1200px 700px at 50% 120%,
            rgba(255, 255, 255, 0.08),
            transparent 50%
          ),
          linear-gradient(
            120deg,
            var(--bg1) 0%,
            var(--bg2) 45%,
            var(--bg3) 100%
          );
        overflow: hidden;
      }

      /* subtle film grain */
      body::after {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        opacity: 0.08;
        mix-blend-mode: overlay;
        background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/></filter><rect width='100%25' height='100%25' filter='url(%23n)'/></svg>");
        background-size: 240px 240px;
      }

      /* logo (refresh) */
      .logo {
        position: fixed;
        top: 18px;
        left: 20px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 36px;
        width: 36px;
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.14);
        border: 1px solid rgba(255, 255, 255, 0.28);
        backdrop-filter: blur(10px) saturate(140%);
        -webkit-backdrop-filter: blur(10px) saturate(140%);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
        transition:
          transform 0.1s ease,
          box-shadow 0.15s ease;
      }
      .logo:hover {
        transform: translateY(-1px);
        box-shadow:
          0 0 0 6px rgba(255, 255, 255, 0.08),
          0 10px 28px rgba(0, 0, 0, 0.35);
      }
      .logo img {
        height: 22px;
        width: 22px;
        display: block;
      }

      .wrap {
        position: relative;
        height: 100%;
        display: grid;
        place-items: center;
        padding: 32px;
      }
      .center {
        width: min(820px, 92vw);
        display: grid;
        gap: 26px;
      }

      .title {
        font-weight: 900;
        letter-spacing: 0.4px;
        font-size: clamp(28px, 6vw, 54px);
        line-height: 1.05;
        text-shadow: 0 3px 24px rgba(0, 0, 0, 0.35);
      }

      .glass {
        position: relative;
        border-radius: var(--radius);
        background:
          linear-gradient(
            180deg,
            rgba(255, 255, 255, 0.14),
            rgba(255, 255, 255, 0.08)
          ),
          var(--glass);
        border: 1px solid var(--glass-border);
        box-shadow: var(--shadow);
        backdrop-filter: blur(var(--blur)) saturate(140%);
        -webkit-backdrop-filter: blur(var(--blur)) saturate(140%);
        padding: clamp(18px, 3.5vw, 28px);
        overflow: hidden;
        isolation: isolate;
      }
      .glass::before {
        content: "";
        position: absolute;
        inset: 0;
        z-index: 0;
        border-radius: inherit;
        background: linear-gradient(
          180deg,
          var(--glass-highlight),
          transparent 40%
        );
        pointer-events: none;
        mix-blend-mode: overlay;
        opacity: 0.6;
        -webkit-mask: radial-gradient(
          120% 60% at 50% -10%,
          #000 36%,
          transparent 60%
        );
        mask: radial-gradient(120% 60% at 50% -10%, #000 36%, transparent 60%);
      }
      .glass > * {
        position: relative;
        z-index: 1;
      }

      .row {
        display: grid;
        grid-template-columns: 1fr auto auto;
        gap: 12px;
        align-items: center;
        margin-top: 12px;
      }

      label {
        font-size: 14px;
        letter-spacing: 0.2px;
        color: var(--muted);
      }

      /* INPUT — wobble/zoom on the actual box */
      input[type="text"] {
        width: 100%;
        font-size: 16px;
        padding: 16px 16px;
        color: var(--txt);
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.22);
        border-radius: 16px;
        outline: none;
        transition:
          transform 0.16s ease,
          box-shadow 0.15s ease,
          border-color 0.15s ease,
          background 0.15s ease;
        transform-origin: center;
        will-change: transform;
      }
      input[type="text"]::placeholder {
        color: #ffffff88;
      }
      input[type="text"]:hover {
        transform: scale(1.02) translateZ(0);
        animation: wobble 420ms ease-out 1;
        background: rgba(255, 255, 255, 0.08);
      }
      input[type="text"]:focus {
        border-color: rgba(255, 255, 255, 0.38);
        box-shadow: var(--ring-tight);
        background: rgba(255, 255, 255, 0.1);
        transform: scale(1.02) translateZ(0);
      }
      @keyframes wobble {
        0% {
          transform: scale(1);
        }
        30% {
          transform: scale(1.022) rotate(0.12deg);
        }
        60% {
          transform: scale(1.015) rotate(-0.1deg);
        }
        100% {
          transform: scale(1.02);
        }
      }

      /* BUTTONS — glow + tiny zoom on hover */
      button {
        appearance: none;
        border: none;
        cursor: pointer;
        white-space: nowrap;
        height: 50px;
        padding: 0 18px;
        font-weight: 800;
        letter-spacing: 0.2px;
        border-radius: 14px;
        color: #0b0b0b;
        background: linear-gradient(180deg, #fff, #e9e9e9);
        box-shadow:
          0 6px 20px rgba(0, 0, 0, 0.25),
          inset 0 1px 0 rgba(255, 255, 255, 0.7);
        transition:
          transform 0.12s ease,
          box-shadow 0.15s ease,
          filter 0.15s ease;
        position: relative;
        z-index: 2;
      }
      button:hover {
        transform: translateY(-1px) scale(1.03);
        filter: brightness(1.03);
        box-shadow:
          0 0 0 8px rgba(255, 255, 255, 0.09),
          0 16px 40px rgba(114, 134, 255, 0.45),
          inset 0 1px 0 rgba(255, 255, 255, 0.75);
      }
      button:active {
        transform: translateY(0) scale(0.995);
        box-shadow:
          0 2px 10px rgba(0, 0, 0, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.7);
      }
      button[disabled] {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .out {
        margin-top: 14px;
        padding: 14px 16px;
        border-radius: 14px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px dashed rgba(255, 255, 255, 0.28);
        word-break: break-all;
      }
      .hint {
        font-size: 14px;
        color: var(--muted);
        margin-top: 8px;
      }

      a {
        color: #f1f6ff;
        text-decoration: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.25);
      }
      code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <!-- small logo that refreshes the page -->
    <a class="logo" href="#" title="Refresh">
      <!-- fixed path: static is served from /public => files are at root / -->
      <img src="/logo.png" alt="Logo" />
    </a>

    <div class="wrap">
      <div class="center">
        <div class="title">Stream with swag</div>

        <div class="glass">
          <label for="cid">Enter your YouTube <b>Channel ID</b>:</label>
          <div class="row">
            <input id="cid" type="text" placeholder="Channel ID - Not Handle" />
            <button id="gen" title="Generate overlay link" type="button">
              Generate
            </button>
            <button id="copy" title="Copy to clipboard" type="button">
              Copy
            </button>
          </div>

          <div id="out" class="out" style="display: none"></div>
          <div class="hint">
            Timsu is currently in <b>BETA</b>; we’re working on fixing
            <b>bugs</b> and overall improvements.
          </div>
        </div>
      </div>
    </div>

    <script>
      // logo refresh
      document.querySelector(".logo").addEventListener("click", (e) => {
        e.preventDefault();
        location.reload();
      });

      const genBtn = document.getElementById("gen");
      const copyBtn = document.getElementById("copy");
      const out = document.getElementById("out");
      const cidInput = document.getElementById("cid");

      // keep latest URL here
      let lastUrl = "";

      function setCopyEnabled(enabled) {
        copyBtn.disabled = !enabled;
        if (!copyBtn.textContent.trim()) copyBtn.textContent = "Copy";
      }

      async function copyToClipboard(text) {
        try {
          await navigator.clipboard.writeText(text);
          return true;
        } catch {
          try {
            const ta = document.createElement("textarea");
            ta.value = text;
            ta.setAttribute("readonly", "");
            ta.style.position = "fixed";
            ta.style.opacity = "0";
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
            return true;
          } catch {
            return false;
          }
        }
      }

      function generate() {
        const cid = cidInput.value.trim();
        if (!cid) return;
        lastUrl = `${location.origin}/overlay/${encodeURIComponent(cid)}`;
        out.style.display = "block";
        out.innerHTML = `<div><b>Overlay URL</b><br><a href="${lastUrl}" target="_blank" rel="noopener">${lastUrl}</a></div>`;
        setCopyEnabled(true);
      }

      async function onCopy() {
        if (!lastUrl) return;
        const ok = await copyToClipboard(lastUrl);
        if (ok) {
          const old = copyBtn.textContent;
          copyBtn.textContent = "Copied!";
          setTimeout(() => (copyBtn.textContent = old || "Copy"), 1200);
        }
      }

      genBtn.addEventListener("click", generate);
      copyBtn.addEventListener("click", onCopy); // always wired
      cidInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") generate();
      });

      // initial state
      setCopyEnabled(false);
    </script>
  </body>
</html>
